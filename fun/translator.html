<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Translator</h1><p class="page-description">Use of Google Translate API to create an English-to-Spanish translator</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-10-02T00:00:00-05:00" itemprop="datePublished">
        Oct 2, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Bailey Say</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/congenial-tribble/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
</ul><body>
<title>Translator</title>


    <div class="description">
        <p>Please type in the box below and press the "translate" button to translate any message from English to Spanish.</p>
    </div>
    <div class="input">
        <label>Enter English here: </label>
        <input type="text" id="inputField"><br><br>
        <button id="btn">Translate!</button><br><br>
    </div>
    <div>   
        <p>Spanish:</p>
        <p id="output"></p>
    </div>



<script type="text/javascript">

        document.getElementById("btn").addEventListener("click", function() {
            
            console.log("successful button call");
            
            const url = 'https://google-translate1.p.rapidapi.com/language/translate/v2';

            const encodedParams = new URLSearchParams();
            let originalText = document.getElementById("inputField").value;
            encodedParams.append("q", originalText);
            encodedParams.append("target", "es");
            encodedParams.append("source", "en");

            const options = {
                method: 'POST',
                headers: {
                    'content-type': 'application/x-www-form-urlencoded',
                    'Accept-Encoding': 'application/gzip',
                    'X-RapidAPI-Key': '251e7161e9mshbf81a60446c0900p11bbc1jsnb82befaa1258',
                    'X-RapidAPI-Host': 'google-translate1.p.rapidapi.com'
                },
                body: encodedParams
            };

            fetch(url, options)
                .then(res => res.json().then (({ data }) => {
                    console.log(data);
                    console.log(data.translations[0].translatedText);
                    document.getElementById("output").innerHTML = data.translations[0].translatedText;
                    console.log("successful fetch");
                }))
                .then(json => console.log(json))
                .catch(err => console.error('error:' + err));
            
        });
        
</script>

</body>
  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="horizon-ab/congenial-tribble"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/congenial-tribble/fun/translator" hidden></a>
</article>
